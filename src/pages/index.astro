---
import Layout from "../layouts/Layout.astro";
import LottieAnimation from "astro-integration-lottie/Lottie.astro";

import AnimatedStats from "@/components/ui/AnimatedStats";

import ServiceCards from "@/components/ui/ServiceCards";

import TestimonialCards from "@/components/ui/TestimonialCards";

import ScrollReveal from "@/components/ScrollReveal.astro";

import TypedText from "@/components/ui/Tipeador";

const testimonios = [
  {
    nombre: "María González",
    cargo: "Presidenta Comunal",
    testimonio:
      "Gracias al sistema implementado, nuestra comunidad ahora cuenta con agua durante todo el año. La inversión valió la pena.",
    comunidad: "Comunidad Alto Perú",
  },
  {
    nombre: "Juan Mamani",
    cargo: "Agricultor",
    testimonio:
      "El sistema de riego por goteo aumentó nuestra producción en un 60%. Ahora podemos cultivar todo el año.",
    comunidad: "Sector Las Lomas",
  },
  {
    nombre: "Pedro Quispe",
    cargo: "Alcalde",
    testimonio:
      "El diagnóstico con drones nos permitió identificar fuentes de agua que desconocíamos. Excelente trabajo profesional.",
    comunidad: "Municipio de Tapara",
  },
];

const stats = [
  { value: 75, suffix: "%", label: "de familias sin acceso a agua segura" },
  { value: 40, suffix: "%", label: "de ahorro en costos de implementación" },
  { value: 200, suffix: "+", label: "comunidades potenciales" },
  { value: 24, suffix: "/7", label: "soporte técnico continuo" },
];
---

<Layout title="Inicio">
  <main class="w-full">
    <!-- Hero Section -->
    <div class="relative overflow-hidden">
      <div class="absolute inset-0 z-10"></div>

      <div
        class="relative z-20 text-white flex flex-col min-h-[650px] max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"
      >
        <!-- Contenido del Hero -->
        <div
          class="flex flex-col lg:flex-row items-center justify-between gap-8 py-6 flex-1 mb-20"
        >
          <!-- Lado izquierdo - Texto -->
          <ScrollReveal
            class="flex-1 space-y-2 text-center lg:text-left"
            delay={100}
            animation="fade-up"
            intensity="high"
          >
            <h1
              class="text-4xl md:text-5xl lg:text-6xl text-gray-600 font-bold leading-tight"
            >
              Agua Segura para
              <span class="text-gray-600 block">Comunidades</span>
              <span class="text-cyan-400 block">Altoandinas</span>
            </h1>

            <p class="text-lg md:text-xl text-gray-500 max-w-2xl">
              Soluciones hídricas sostenibles con tecnología de punta.
              Transformamos el acceso al agua en tu comunidad.
            </p>

            <div
              class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mt-8"
            >
              <!-- Botón principal -->
              <a
                href="/contactanos"
                class="bg-gradient-to-r from-cyan-500 to-blue-600
           hover:from-cyan-600 hover:to-blue-700
           text-white font-semibold
           px-8 py-3 rounded-lg
           shadow-lg shadow-blue-500/30
           transition-all duration-300 hover:scale-105"
              >
                Solicitar Diagnóstico
              </a>

              <!-- Botón secundario -->
            </div>
          </ScrollReveal>

          <!-- Lado derecho - Animación -->
          <div class="flex-1 max-w-xl">
            <LottieAnimation
              src="/lottie-hero-hydrovision.json"
              autoplay="visible"
              loop
              class="w-full h-auto"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Problema/Estadísticas -->
    <div
      class="w-full bg-gradient-to-br from-blue-900 via-blue-800 to-cyan-900 mt-20"
    >
      <!-- //para la animacion de revelado es esto reveal opacity-0 translate-y-10
      transition-all duration-700 ease-out -->
      <div class="max-w-7xl mx-auto px-4 py-20 sm:px-6 lg:px-8">
        <div class="text-center reveal mb-8 sm:mb-12">
          <ScrollReveal delay={100} animation="fade-up" intensity="high">
            <h2
              class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-white py-10 sm:py-14 lg:py-20
         h-auto min-h-[5rem] sm:min-h-[6rem] md:min-h-[7rem] lg:min-h-[8.5rem]
         flex items-center justify-center text-center overflow-hidden"
            >
              <span class="block leading-tight whitespace-pre-line"
                >Muchas comunidades no cuentan con agua segura durante todo el
                año</span
              >
            </h2>
          </ScrollReveal>

          <ScrollReveal delay={200} animation="fade-up" intensity="medium">
            <p
              class="text-base sm:text-lg md:text-xl text-gray-200 max-w-3xl mx-auto leading-relaxed px-2 sm:px-0"
            >
              Más de <span class="font-bold text-xl sm:text-2xl text-cyan-300"
                >350 mil familias</span
              > dependen de lluvias estacionales y manantes no aprovechados, generando
              enfermedades, pérdidas ganaderas y baja productividad.
            </p>
          </ScrollReveal>
        </div>

        <ScrollReveal delay={200} animation="fade-up" intensity="high">
          <!-- Estadísticas con animación -->
          <AnimatedStats stats={stats} client:visible />
        </ScrollReveal>
      </div>
    </div>
    <!-- Fin Sección de Problema/Estadísticas -->

    <!-- Sección de Servicios -->
    <div class="w-full py-12 sm:py-16 lg:py-20 bg-gray-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- TEXTO MEJORADO -->
        <div class="text-center my-10 sm:my-14 lg:my-20 relative">
          <!-- Decoración superior -->

          <h2
            class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 sm:mb-6 leading-tight"
          >
            Sembrar agua
            <span class="relative inline-block">
              <span class="relative z-10">donde ya existe</span>
              <svg
                class="absolute -bottom-2 left-0 w-full"
                height="8"
                viewBox="0 0 200 8"
                fill="none"
              >
                <path
                  d="M1 5.5Q50 1 100 5.5T199 5.5"
                  stroke="url(#gradient)"
                  stroke-width="3"
                  stroke-linecap="round"
                  class="animate-draw"></path>
                <defs>
                  <linearGradient
                    id="gradient"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="0%"
                  >
                    <stop offset="0%" stop-color="#06b6d4"></stop>
                    <stop offset="100%" stop-color="#2563eb"></stop>
                  </linearGradient>
                </defs>
              </svg>
            </span>
          </h2>

          <p
            class="text-base sm:text-lg md:text-xl text-gray-600 mt-6 sm:mt-8 mx-auto max-w-7xl leading-relaxed px-2 sm:px-0"
          >
            En <span
              class="font-bold bg-gradient-to-r from-cyan-500 to-blue-600 bg-clip-text text-transparent"
              >HYDROVISION</span
            > ofrecemos una solución integral que combina <span
              class="font-semibold text-gray-800">tecnología moderna</span
            > + <span class="font-semibold text-gray-800"
              >conocimiento rural</span
            >
            <span class="block mt-2 text-gray-800">
              para asegurar agua sostenible a bajo costo
            </span>
          </p>

          <!-- Indicador decorativo -->
          <div class="mt-10 flex justify-center">
            <div class="flex items-center gap-2 text-cyan-600">
              <svg
                class="w-5 h-5 animate-bounce"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
              </svg>
              <span class="text-sm font-medium">Conoce nuestros servicios</span>
            </div>
          </div>
        </div>

        <div>
          <ServiceCards client:visible />
        </div>

        <!-- CTA -->
        <div class="text-center mt-12">
          <a
            href="/servicios"
            class="inline-block bg-gradient-to-r from-cyan-500 to-blue-600
               hover:from-cyan-600 hover:to-blue-700 text-white font-semibold
               px-8 py-3 rounded-lg shadow-lg transform transition hover:scale-105"
          >
            Ver más
          </a>
        </div>
      </div>
    </div>

    <!-- Sección de Testimonios -->
    <div
      class="w-full py-12 sm:py-16 lg:py-24 bg-gradient-to-b from-white to-gray-50"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header mejorado -->
        <div class="text-center mb-10 sm:mb-12 lg:mb-16">
          <div
            class="flex items-center justify-center gap-2 sm:gap-3 mb-4 sm:mb-6"
          >
            <span
              class="h-px w-8 sm:w-12 bg-gradient-to-r from-transparent to-cyan-500"
            ></span>
            <span
              class="text-cyan-600 font-medium tracking-widest text-xs sm:text-sm uppercase"
              >Testimonios</span
            >
            <span
              class="h-px w-8 sm:w-12 bg-gradient-to-l from-transparent to-cyan-500"
            ></span>
          </div>

          <h2
            class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 sm:mb-6"
          >
            Lo Que Dicen
            <span class="relative inline-block">
              <span class="relative z-10">Nuestros Clientes</span>
              <span
                class="absolute bottom-1 sm:bottom-2 left-0 w-full h-2 sm:h-3 bg-cyan-200/50 -z-0"
              ></span>
            </span>
          </h2>
          <p
            class="text-base sm:text-lg md:text-xl text-gray-500 max-w-2xl mx-auto px-2 sm:px-0"
          >
            Historias reales de comunidades que han transformado su acceso al
            agua
          </p>
        </div>

        <TestimonialCards testimonios={testimonios} client:visible />
      </div>
    </div>

    <!-- Sección CTA Final -->
    <div
      class="w-full bg-gradient-to-r from-cyan-600 to-blue-700 py-10 sm:py-12 lg:py-16"
    >
      <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8 py-4">
        <span
          class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2 min-h-[2.5rem] sm:min-h-[3rem] md:min-h-[4rem] flex items-center justify-center"
        >
          <TypedText
            client:visible
            strings={["¿Listo para transformar tu comunidad?"]}
            typeSpeed={60}
            backSpeed={40}
            backDelay={1500}
            loop={true}
            showCursor={false}
          />
        </span>
        <ScrollReveal delay={100} animation="fade-up" intensity="medium">
          <p class="text-base sm:text-lg lg:text-xl text-gray-100 mb-6 sm:mb-8">
            Solicita un diagnóstico gratuito y descubre cómo podemos ayudarte
          </p>
        </ScrollReveal>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <ScrollReveal delay={200} animation="fade-left" intensity="medium">
            <a
              href="/contactanos"
              class="bg-white hover:bg-gray-100 text-cyan-700 font-bold px-8 py-4 rounded-lg shadow-lg transform transition hover:scale-105"
            >
              Contactar Ahora
            </a>
          </ScrollReveal>
          <ScrollReveal delay={300} animation="fade-right" intensity="medium">
            <a
              href="/nosotros"
              class="bg-transparent hover:bg-white/10 text-white font-semibold px-8 py-4 rounded-lg border-2 border-white transition"
            >
              Conocer Más
            </a>
          </ScrollReveal>
        </div>
      </div>
    </div>

    <!-- Footer -->
  </main>
</Layout>
